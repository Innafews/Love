const poems = [
    "从遇见你的那一刻起，<br>我的世界就只剩一种颜色——你。",
    "如果可以，<br>我想把余生的每一句晚安都亲手交给你。",
    "我偷偷把喜欢藏在每一次看你的眼神里，<br>却忘了你从来都看得见。",
    "全世界都下雨了，<br>只有你站在我身边是晴天。",
    "如果心动有形状，<br>那一定是你今天穿的那件白色毛衣。",
    "我这辈子最勇敢的事，<br>就是喜欢你这件事我从没想过放弃。",
    "你笑起来真好看，<br>像夏天的星星掉进了我的眼睛里。",
    "我把风都给了你，<br>所以你一转身我就起鸡皮疙瘩。",
    "如果有下辈子，<br>我还想在人群里一眼就找到你。",
    "不是因为你有多好，<br>而是因为你让我变得更好。",
    "我想写一首很长的诗，<br>第一句是你的名字，最后一句还是你。",
    "遇见你之后，<br>我才知道原来心跳也可以这么甜。",
    "我偷偷许愿，<br>下次流星雨的时候你也在我身边。",
    "你是我最想藏起来的秘密，<br>也是我最想炫耀的骄傲。",
    "如果可以，<br>我想把我的余生都用来爱你。",
    "你今天有没有很可爱？<br>（我已经替你回答了：超级无敌可爱！）",
    "你眨一次眼，<br>我就输掉整个银河。",
    // 新增诗句，已统一加上 <br> 分行，风格一致
    "我的心跳从遇见你那天开始偷懒，<br>只肯跟着你走。",
    "晚风替我吻了你，<br>而我只能站在原地发抖。",
    "想把你藏进瞳孔，<br>结果你直接住进了心跳。",
    "你是我的第六感，<br>其余五感都用来想你。",
    "全世界都在下雨，<br>只有你这里是晴天。",
    "我把余生所有节日，<br>都偷偷改成了你的生日。",
    "你笑一下，<br>我就愿意再当一百年傻子。",
    "爱你这件事，<br>比我本人还勇敢。",
    "我的灵魂认出你之前，<br>我的身体已经先投降。",
    "你是我的例外，<br>也是唯一规则。",
    "想你的时候，<br>连空气都变成了你的形状。",
    "如果心跳能寄快递，<br>我早就把全世界寄给你了。",
    "你往我心里走了一步，<br>我直接把整条路都拆了。",
    "所有没说出口的爱，<br>都在深夜偷偷涨潮。",
    "你是我的北极星，<br>我却是个路痴。",
    "能被你嫌弃，<br>也算一种被你记住的方式。",
    "我把克制写成一本书，<br>唯一读者是你。",
    "你出现之前，<br>我以为自己挺会喜欢人的。",
    "我的世界观正在被你，<br>强制重写。",
    "想和你一起看日出，<br>然后赖床赖到日落。",
    "你声音里的电流，<br>至今还在我脊椎里跑。",
    "爱你这件事，<br>我连自己都说服不了要放弃。",
    "你是我的软肋，<br>也是我唯一的铠甲。",
    "每一次想你，<br>都像把心脏拿出来晒太阳。",
    "我偷偷把你名字纹在了，<br>每一次心跳上。",
    "你不说话的时候，<br>比宇宙还安静还致命。",
    "我这辈子最认真的作弊，<br>就是爱你这件事。",
    "你回头看我一眼，<br>我就能再勇敢十年。",
    "我的梦境从你开始，<br>收费了。",
    "想把你揉进骨头里，<br>连疼都觉得甜。",
    "你是我的限定款，<br>我是你的过期不候。",
    "爱你需要勇气，<br>亲你需要酒量。",
    "你今天没出现，<br>我的整个世界就卡帧了。",
    "我把余光都借给你了，<br>所以才总是看不见别人。",
    "你是我的暴雨，<br>也是我的避雨处。",
    "心动是你的形状，<br>失控是你的味道。",
    "我这人没别的优点，<br>就是特别能忍着不说想你。",
    "你笑得太好看，<br>害我余生都想当小偷。",
    "我的每一句晚安，<br>其实都想改成：快来我怀里。",
    "你是我的劫，<br>也是我唯一的救赎。",
    "爱你这件事，<br>已经成为我最熟练的坏习惯。",
    "你在我面前出现过，<br>我就再也回不去从前。",
    "我的世界崩坏得刚刚好，<br>塌成了你的形状。",
    "想和你吵架，<br>然后在你哭之前抱住你。",
    "你是我的天灾，<br>我甘心被你毁掉。",
    "每一次心跳都在偷偷，<br>喊你的名字。",
    "我把所有浪漫写成诗，<br>最后署名都是你。",
    "你不爱我也没关系，<br>反正我已经把你爱成了气候。",
    "余生很长，<br>第一句情话永远是：你好，我喜欢你。",
];

let shuffledPoems = [...poems]; // 初始洗牌副本
let currentIndex = -1;

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function showNextPoem() {
    currentIndex++;

    // 如果已经播完一轮，重新洗牌并从头开始
    if (currentIndex >= shuffledPoems.length) {
        shuffledPoems = shuffle([...poems]);
        currentIndex = 0;
    }

    poemText.classList.remove('show');

    setTimeout(() => {
        poemText.innerHTML = shuffledPoems[currentIndex];
        poemText.classList.add('show');
    }, 400);
}

// 点击进入时也直接显示第一句随机
enterBtn.addEventListener('click', () => {
    cover.classList.add('hidden');

    setTimeout(() => {
        main.classList.add('show');
        // 进入时先洗一次牌
        shuffledPoems = shuffle([...poems]);
        currentIndex = -1;
        showNextPoem();
    }, 1200);
});

nextBtn.addEventListener('click', showNextPoem);